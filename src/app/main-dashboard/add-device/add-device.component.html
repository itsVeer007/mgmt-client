<div class="row formModal">
  <div class="col-lg-6 col-md-6"></div>
  <div class="col-lg-6 col-md-6 add-form p-0" id="additionalSite" @inOutPaneAnimation>

    <div class="d-flex flex-row justify-content-between">
      <div class="d-flex">
        <a class="mt-3 close pointer" (click)="closeAddDevice()">
          <img src="assets/icons/close_form.svg">
        </a>

        <div class="d-flex justify-content-between align-items-center">
          <div class="device-detail">
            <h5 class="m-0" style="font-size: 18px; font-weight: 600;">{{ siteData?.siteId ? siteData?.siteId : '--' }} - {{ siteData?.siteName }}</h5>
            <h5 class="m-0 text-secondary" style="font-size: 18px;">{{ siteData?.centralUnitId ? siteData?.centralUnitId : '--' }}</h5>
          </div>
          <!-- <div>
            <a class="pointer mx-3">
              <button mat-raised-button color="primary">Add Device</button>
            </a>
            <img src="assets/icons/add.svg" alt="">
          </div> -->
        </div>
      </div>
    </div>

    <!-- Form -->
    <div class="mt-2">
      <mat-tab-group backgroundColor="primary">
        <mat-tab label="New Device">
          <form autocomplete="off" [formGroup]="addDevice" #addAdditionalSiteForm="ngForm">
            <div class="row mt-2">

              <div class="col-lg-6">
                <mat-form-field appearance="outline" class="w-100">
                  <mat-label>Select Device</mat-label>
                  <mat-select formControlName="deviceTypeId" [(ngModel)]="adInfo.deviceTypeId" required>
                    <mat-option *ngFor="let item of deviceType" [value]="item.keyId">{{ item.value }}</mat-option>
                  </mat-select>
                  <mat-error class="mt-1">Device is required</mat-error>
                </mat-form-field>
              </div>

              <div class="col-lg-6">
                <mat-form-field appearance="outline" class="w-100">
                  <mat-label>Select Device Mode</mat-label>
                  <mat-select formControlName="deviceModeId" [(ngModel)]="adInfo.deviceModeId">
                    <mat-option *ngFor="let item of deviceMode" [value]="item.keyId">{{ item.value }}</mat-option>
                  </mat-select>
                  <mat-error class="mt-1">Device mode is required</mat-error>
                </mat-form-field>
              </div>

              <div class="col-lg-6 d-flex align-items-center justify-content-evenly">
                <!-- <div>
                  <label for="device" style="width: 51px; font-size: 12px;">Ad Hours</label>
                </div>
                <div class="me-2">
                  <select class="form-select m-1" id="device">
                    <option value="" selected disabled>Select</option>
                    <option value="Device1">Device1</option>
                  </select>
                </div>
                <span>-</span>
                <div>
                  <select class="form-select m-1" id="device">
                    <option value="" selected disabled>Select</option>
                    <option value="Device1">Device1</option>
                  </select>
                </div> -->
                <!-- <mat-form-field appearance="outline" [ngStyle]="{'width': 'calc(50% - 8.78px)'}">
                  <mat-label>Select</mat-label>
                  <mat-select formControlName="adsHours">
                    <mat-option value="9">9</mat-option>
                  </mat-select>
                </mat-form-field> -->
                <!-- <span class="mx-2">-</span> -->

                <!-- <mat-form-field appearance="outline" class="w-100">
                  <mat-label>Ad-Hours</mat-label>
                  <mat-select formControlName="adsHours" [(ngModel)]="adInfo.adsHours" required>
                    <mat-option value="9am-6pm">9am-6pm</mat-option>
                  </mat-select>
                  <mat-error class="mt-1">Ad-Hours is required</mat-error>
                </mat-form-field> -->

                <mat-form-field appearance="outline" class="w-100">
                  <mat-label>Ad-Hours</mat-label>
                  <input matInput formControlName="adsHours" [(ngModel)]="adInfo.adsHours" required>
                  <mat-error class="mt-1">Ad-Hours is required</mat-error>
                </mat-form-field>
              </div>

              <div class="col-lg-6 d-flex align-items-center justify-content-between">
                <mat-form-field appearance="outline" class="w-100">
                  <mat-label>Ad Working Days</mat-label>
                  <mat-select formControlName="workingDays" [(ngModel)]="adInfo.workingDays" multiple>
                    <mat-option *ngFor="let item of workingDay" [value]="item.keyId">{{ item.value }}</mat-option>
                  </mat-select>
                  <mat-error class="mt-1">Ad Working Days is required</mat-error>
                </mat-form-field>
              </div>


              <div class="col-lg-6">
                <mat-form-field appearance="outline" class="w-100">
                  <mat-label>Accessories Type</mat-label>
                  <mat-select>
                    <mat-option value="Audio">Audio</mat-option>
                    <mat-option value="Video">Video</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>

              <div class="col-lg-6">
                <mat-form-field appearance="outline" class="w-100">
                  <mat-label>Select Accessories</mat-label>
                  <mat-select>
                    <mat-option value="Accessorie 1">Accessorie 1</mat-option>
                    <mat-option value="Accessorie 2">Accessorie 2</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>

              <div class="col-lg-6">
                <mat-form-field appearance="outline" class="w-100">
                  <mat-label>Call Frequency</mat-label>
                  <input matInput type="number" formControlName="deviceCallFreq" [(ngModel)]="adInfo.deviceCallFreq">
                  <mat-error class="mt-1">Call Frequency is required</mat-error>
                </mat-form-field>
              </div>

              <div class="col-lg-6">
                <mat-form-field appearance="outline" class="w-100">
                  <mat-label>Description</mat-label>
                  <input matInput formControlName="deviceDescription" [(ngModel)]="adInfo.deviceDescription">
                  <mat-error class="mt-1">Description is required</mat-error>
                </mat-form-field>
              </div>

              <!-- <div class="col-lg-6 d-flex align-items-center justify-content-evenly">
                <mat-form-field appearance="outline" class="w-100">
                  <mat-label>Device Type Id</mat-label>
                  <mat-select formControlName="deviceTypeId" [(ngModel)]="adInfo.deviceTypeId" required>
                    <mat-option *ngFor="let item of deviceTypeIdList" [value]="item">{{ item }}</mat-option>
                  </mat-select>
                  <mat-error class="mt-1">Device Type Id is required</mat-error>
                </mat-form-field>
              </div> -->

              <div class="my-2">
                <h5 class="m-0" style="font-size: 15px; font-weight: 500;">ADVERTISEMENT PARAMETERS</h5>
              </div>

              <div class="col-lg-6">
                <mat-form-field appearance="outline" class="w-100">
                  <mat-label>Select temp range</mat-label>
                  <mat-select>
                    <mat-option *ngFor="let item of tempRange" [value]="item.value">{{ item.value }}</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>

              <div class="col-lg-6">
                <mat-form-field appearance="outline" class="w-100">
                  <mat-label>Select age range</mat-label>
                  <mat-select>
                    <mat-option *ngFor="let item of ageRange" [value]="item.value">{{ item.value }}</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>

              <div class="mb-3 equipment">
                <!-- <label class="form-check-label me-3">Demographics</label> -->
                <!-- <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1">
                  <label class="form-check-label" for="inlineRadio1">True</label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2">
                  <label class="form-check-label" for="inlineRadio2">False</label>
                </div> -->
                <mat-radio-group name="radioOpt1" style="font-size: 12px;">
                  <mat-label>Demographics</mat-label>
                  <mat-radio-button class="ms-3" name="Demographics" value="True">True</mat-radio-button>
                  <mat-radio-button class="ms-3" name="Demographics" value="False" checked>False</mat-radio-button>
                </mat-radio-group>
              </div>
            </div>

            <div class="row" *ngIf="adInfo.deviceModeId == 2 || adInfo.deviceModeId == 3">
              <div class="col-lg-6">
                <mat-form-field appearance="outline" class="w-100">
                  <mat-label>Weather Interval</mat-label>
                  <input matInput formControlName="weatherInterval" [(ngModel)]="adInfo.weatherInterval">
                  <mat-error class="mt-1">Weather Interval is required</mat-error>
                </mat-form-field>
              </div>
            </div>


            <div class="row" *ngIf="adInfo.deviceModeId == 3">
              <div class="my-2">
                <h5 class="m-0" style="font-size: 15px; font-weight: 500;">CAMERA DETAILS</h5>
              </div>

              <div class="col-lg-6">
                <mat-form-field appearance="outline" class="w-100">
                  <mat-label>Select Camera Id</mat-label>
                  <mat-select formControlName="cameraId" [(ngModel)]="adInfo.cameraId" [required]="adInfo.deviceModeId == 3">
                    <mat-option value="01">01</mat-option>
                  </mat-select>
                  <mat-error class="mt-1">Camera Id is required</mat-error>
                </mat-form-field>
              </div>

              <div class="col-lg-6">
                <mat-form-field appearance="outline" class="w-100">
                  <mat-label>FPS</mat-label>
                  <input matInput>
                </mat-form-field>
              </div>

              <div class="col-lg-6">
                <mat-form-field appearance="outline" [ngStyle]="{'width': 'calc(50% - 13px)'}">
                  <mat-label>Width</mat-label>
                  <input matInput type="number" formControlName="modelWidth" [(ngModel)]="adInfo.modelWidth" [required]="adInfo.deviceModeId == 3">
                  <mat-error class="mt-1">Width is required</mat-error>
                </mat-form-field>
                <span class="mx-2">X</span>
                <mat-form-field appearance="outline" [ngStyle]="{'width': 'calc(50% - 13px)'}">
                  <mat-label>Height</mat-label>
                  <input matInput type="number" formControlName="modelHeight" [(ngModel)]="adInfo.modelHeight" [required]="adInfo.deviceModeId == 3">
                  <mat-error class="mt-1">Height is required</mat-error>
                </mat-form-field>
              </div>

              <div class="col-lg-6 col-md-12 my-3 equipment" style="font-size: 12px;">
                <!-- <label class="form-check-label me-3">Label</label>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1">
                  <label class="form-check-label" for="inlineRadio1">Person</label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2">
                  <label class="form-check-label" for="inlineRadio2">Vehicle</label>
                </div> -->
                <mat-radio-group name="radioOpt2" class="w-50">
                  <mat-label>Label</mat-label>
                  <mat-radio-button class="ms-3" name="Label" value="Person" checked>Person</mat-radio-button>
                  <mat-radio-button class="ms-3" name="Label" value="Vehicle">Vehicle</mat-radio-button>
                </mat-radio-group>
              </div>

              <div class="my-2">
                <h5 class="m-0" style="font-size: 15px; font-weight: 500;">MODELING DETAILS</h5>
              </div>

              <div class="col-lg-6">
                <mat-form-field appearance="outline" class="w-100">
                  <mat-label>Select Model Name</mat-label>
                  <mat-select formControlName="modelName" [(ngModel)]="adInfo.modelName" [required]="adInfo.deviceModeId == 3">
                    <mat-option value="01">01</mat-option>
                  </mat-select>
                  <mat-error class="mt-1">Model Name is required</mat-error>
                </mat-form-field>
              </div>

              <div class="col-lg-6">
                <mat-form-field appearance="outline" class="w-100">
                  <mat-label>Select Resolution</mat-label>
                  <mat-select formControlName="modelMaxResults" [(ngModel)]="adInfo.modelMaxResults" [required]="adInfo.deviceModeId == 3">
                    <mat-option value="01">01</mat-option>
                  </mat-select>
                  <mat-error class="mt-1">Resolution is required</mat-error>
                </mat-form-field>
              </div>

              <div class="col-lg-12 mb-3 equipment" style="font-size: 12px;">
                <mat-radio-group name="radioOpt3" class="w-50">
                  <mat-label>Get Logs</mat-label>
                  <mat-radio-button class="ms-3" name="Logs" value="True">True</mat-radio-button>
                  <mat-radio-button class="ms-3" name="Logs" value="False" checked>False</mat-radio-button>
                </mat-radio-group>
              </div>

              <div class="col-lg-6 mb-3 equipment" style="font-size: 12px;">
                <mat-radio-group name="radioOpt4" class="w-50">
                  <mat-label>Refresh</mat-label>
                  <mat-radio-button class="ms-3" name="Refresh" value='1'>True</mat-radio-button>
                  <mat-radio-button class="ms-3" name="Refresh" value='0' checked>False</mat-radio-button>
                </mat-radio-group>
              </div>

              <div class="col-lg-6 mb-3 equipment" style="font-size: 12px;">
                <mat-radio-group name="radioOpt5" class="w-50">
                  <mat-label>Display On</mat-label>
                  <mat-radio-button class="ms-3" name="Display" value='1'>True</mat-radio-button>
                  <mat-radio-button class="ms-3" name="Display" value='0' checked>False</mat-radio-button>
                </mat-radio-group>
              </div>

            </div>

            <div class="text-center my-3">
              <button type="submit" class="btn add-btn" (click)="addDeviceDtl()">ADD</button>
            </div>
          </form>
        </mat-tab>


        <mat-tab class="mat-tab" *ngFor="let item of deviceData" [label]="siteData?.centralUnitId">
          <div class="d-flex justify-content-end">
            <button class="m-2" mat-button (click)="openDialog(item, item.deviceId)">Edit</button>
          </div>

          <div class="row added-device w-100">
            <div class="col-lg-6 mb-3">
              <p class="device-title m-0">Device Id</p>
              <p class="device-sub m-0">{{ item.deviceId ? item.deviceId : '--' }}</p>
            </div>

            <div class="col-lg-6 mb-3">
              <p class="device-title m-0">Device Mode</p>
              <p class="device-sub m-0">{{ item.deviceModeId ? item.deviceModeId : '--' }}</p>
            </div>

            <div class="col-lg-6 mb-3">
              <p class="device-title m-0">Ad hours</p>
              <p class="device-sub m-0">{{ item.adsHours ? item.adsHours : '--' }}</p>
            </div>

            <div class="col-lg-6 mb-3">
              <p class="device-title m-0">Description</p>
              <p class="device-sub m-0">{{ item.deviceDescription ? item.deviceDescription : '--' }}</p>
            </div>

            <div class="col-lg-6 mb-3">
              <p class="device-title m-0">Status</p>
              <p class="device-sub m-0">{{ item.status ? item.status : '--' }}</p>
            </div>

            <div class="col-lg-6 mb-3">
              <p class="device-title m-0">Remarks</p>
              <p class="device-sub m-0">{{ item.remarks ? item.remarks : '--' }}</p>
            </div>

            <!-- <div class="col-lg-12 d-flex justify-content-start align-items-center mb-3">
              <p class="device-title m-0" style="font-weight: 500;">adInfos(Ads/QR Code and Etc)</p>

              <div class="on-off-toggle mx-5">
                <input class="on-off-toggle__input" type="checkbox" id="pre" (click)="toggleShowOnOff()" />
                <label for="pre" class="on-off-toggle__slider"></label>
              </div>
            </div> -->

          </div>

          <!-- Edit Popup -->
          <ng-template class="max-center" #myCityDialog>
            <div>
              <p>Edit</p>
            </div>

            <div>
              <h1>{{currentItem.deviceId}}</h1>
            </div>

            <div>
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Device Mode</mat-label>
                <mat-select [(ngModel)]="currentItem.deviceModeId">
                  <mat-option [value]="currentItem.deviceModeId">{{currentItem.deviceModeId}}</mat-option>
                </mat-select>
              </mat-form-field>

              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Call Frequency</mat-label>
                <input matInput [(ngModel)]="currentItem.deviceCallFreq">
              </mat-form-field>

              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Ad hours</mat-label>
                <input matInput [(ngModel)]="currentItem.adsHours">
              </mat-form-field>

              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Description</mat-label>
                <input matInput [(ngModel)]="currentItem.deviceDescription">
              </mat-form-field>

              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Remarks</mat-label>
                <input matInput [(ngModel)]="currentItem.remarks">
              </mat-form-field>
            </div>

            <div class="d-flex align-items-center">
              <!-- <button type="button" class="btn mx-2" style="background-color: #084982; color: #ffffff;">
                Update
              </button>
              <button type="button" class="btn btn-danger">
                Close
              </button> -->
              <div mat-dialog-actions>
                <button mat-button mat-dialog-close (click)="updateDeviceDtl()">Update</button>
              </div>
              <div mat-dialog-actions>
                <button mat-button mat-dialog-close>Close</button>
              </div>
            </div>
          </ng-template>
        </mat-tab>
      </mat-tab-group>

    </div>
    <!-- /Form -->

  </div>
</div>
