<div class="row formModal">
  <div class="col-lg-6 col-4"></div>
  <div class="col-lg-6 col-8 add-form" id="additionalSite" @inOutPaneAnimation>
    <div>
      <a class="close-main pointer" (click)="closeAddDevice()"><img src="assets/icons/close_form.svg"></a>
      <span class="form-heading">add device</span>
    </div>

    <!-- Form -->
    <div class="mt-2">
      <form autocomplete="off" [formGroup]="addDevice" #addAdditionalSiteForm="ngForm" (ngSubmit)="addDeviceDtl()">
        <div class="row mt-2">
          <div class="col-lg-6">
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Select Site</mat-label>
              <mat-select formControlName="siteId" [(ngModel)]="adInfo.siteId">
                <mat-option *ngFor="let item of siteData" [value]="item.siteid">{{ item.siteid }} - {{
                  item.siteShortName }}</mat-option>
              </mat-select>
              <mat-error>Site is required</mat-error>
            </mat-form-field>
          </div>
          <div class="col-lg-6">
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Select Device</mat-label>
              <mat-select formControlName="deviceTypeId" (focus)="adInfo.deviceModeId = null"
                [(ngModel)]="adInfo.deviceTypeId">
                <mat-option *ngFor="let item of deviceType" [value]="item.keyId">{{ item.value }}</mat-option>
              </mat-select>
              <mat-error>Device is required</mat-error>
            </mat-form-field>
          </div>
          <div class="col-lg-6">
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Select Device Mode</mat-label>
              <mat-select formControlName="deviceModeId" [(ngModel)]="adInfo.deviceModeId">
                <mat-option *ngFor="let item of deviceMode" [value]="item.keyId"
                  [disabled]="(adInfo.deviceTypeId == 3 || adInfo.deviceTypeId == 4) && item.keyId == 3">
                  {{ item.remarks }}
                </mat-option>
              </mat-select>
              <mat-error>Device mode is required</mat-error>
            </mat-form-field>
          </div>
          <div class="col-lg-6 d-flex align-items-center justify-content-evenly">
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Select Ad-Hours</mat-label>
              <mat-select formControlName="adsHours" [(ngModel)]="adInfo.adsHours">
                <mat-option value="00-23">00 to 23</mat-option>
                <mat-option value="06-18">06 to 18</mat-option>
                <mat-option value="08-18">08 to 18</mat-option>
                <mat-option value="08-21">08 to 21</mat-option>
              </mat-select>
              <mat-error>Ad-Hours is required</mat-error>
            </mat-form-field>
          </div>
          <div class="col-lg-6">
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Ad Working Days</mat-label>
              <mat-select #createSelect multiple formControlName="workingDays" [(ngModel)]="adInfo.workingDays"
                (selectionChange)="onToAddDevice($event)">
                <mat-option (click)="toggleAllSelection()">All</mat-option>
                <mat-option *ngFor="let item of workingDay" [value]="item.keyId">{{ item.value }}</mat-option>
              </mat-select>
              <mat-error>Ad Working Days is required</mat-error>
            </mat-form-field>
          </div>
          <div class="col-lg-6">
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Advertisement Refresh rate (in min)</mat-label>
              <input matInput type="number" formControlName="deviceCallFreq" [(ngModel)]="adInfo.deviceCallFreq">
              <mat-error>Refresh rate is required</mat-error>
            </mat-form-field>
          </div>
          <div class="col-lg-6">
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Description</mat-label>
              <input matInput formControlName="deviceDescription" [(ngModel)]="adInfo.deviceDescription">
              <mat-error>Description is required</mat-error>
            </mat-form-field>
          </div>
          <div class="col-lg-6">
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Remarks</mat-label>
              <input matInput formControlName="remarks" [(ngModel)]="adInfo.remarks">
            </mat-form-field>
          </div>
          <div class="col-lg-6">
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Software Version</mat-label>
              <mat-select formControlName="softwareVersion" [(ngModel)]="adInfo.softwareVersion">
                <mat-option *ngFor="let item of softwareVersion" [value]="item.value">{{ item.value }}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>

          <ng-container *ngIf="adInfo.deviceModeId == 2 || adInfo.deviceModeId == 3">
            <div class="col-lg-6">
              <!-- <mat-form-field appearance="outline" class="w-100">
                <mat-label>Weather Interval (in min)</mat-label>
                <input matInput type="number" formControlName="weatherInterval" [(ngModel)]="adInfo.weatherInterval">
                <mat-error >Weather Interval is required</mat-error>
              </mat-form-field> -->
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Weather Interval (in min)</mat-label>
                <mat-select formControlName="weatherInterval" [(ngModel)]="adInfo.weatherInterval">
                  <mat-option *ngFor="let item of weatherInterval" [value]="item.value">{{ item.value }}</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
          </ng-container>

          <ng-container *ngIf="adInfo.deviceModeId == 3">
            <!-- <div class="col-lg-6">
                <mat-form-field appearance="outline" class="w-100">
                  <mat-label>Select Camera Id</mat-label>
                  <mat-select formControlName="cameraId" [(ngModel)]="adInfo.cameraId">
                    <mat-option [value]="1">1</mat-option>
                  </mat-select>
                  <mat-error >Camera Id is required</mat-error>
                </mat-form-field>
              </div>
              <div class="col-lg-6">
                <mat-form-field appearance="outline" class="w-100">
                  <mat-label>Logger Freq (in min)</mat-label>
                  <input matInput type="number" formControlName="loggerFreq" [(ngModel)]="adInfo.loggerFreq">
                </mat-form-field>
              </div> -->

            <div class="col-lg-6 col-md-12">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Select Model Object Type</mat-label>
                <mat-select formControlName="modelObjectTypeId" [(ngModel)]="adInfo.modelObjectTypeId">
                  <mat-option *ngFor="let item of modelObjectType" [value]="item.keyId">{{ item.value }}</mat-option>
                </mat-select>
                <mat-error>Model Object Type is required</mat-error>
              </mat-form-field>
            </div>

            <div class="col-lg-6">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Camera Id</mat-label>
                <mat-select formControlName="cameraId" [(ngModel)]="adInfo.cameraId">
                  <mat-option *ngIf="cameras.length == 0">No Cameras</mat-option>
                  <mat-option *ngFor="let item of cameras" [value]="item">{{ item }}</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
          </ng-container>

          <div class="col-lg-12 text-center my-3">
            <button type="submit" class="btn add-btn">ADD</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>