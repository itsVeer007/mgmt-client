<div class="row formModal">
  <div class="col-lg-6 col-md-6"></div>
  <div class="col-lg-6 col-md-6 add-form" id="camera" @inOutPaneAnimation>

    <!-- Title -->
    <div class="d-flex justify-content-start">
      <a class="close-main pointer" (click)="closeForm()"><img src="assets/icons/close_form.svg" /></a>
      <span class="form-heading">create advertisement</span>
    </div>
    <!-- /Title -->

    <!-- Form -->
    <div>
      <form autocomplete="off" [formGroup]="addAssetForm" (ngSubmit)="addNewAsset()">
        <div class="row">
          <!-- <div class="col-lg-6 col-md-6">
            <mat-form-field appearance="outline" class="w-100">
              <input matInput placeholder="Site Id" [matAutocomplete]="site" (keyup)="siteSer($event)" formControlName="siteId">
              <mat-autocomplete #site="matAutocomplete">
                <mat-option *ngFor="let item of siteIdList | search: sit" [value]="item.siteId">
                  {{ item.siteId }}
                </mat-option>
              </mat-autocomplete>
              <mat-error class="mt-1">Site Id is required</mat-error>
            </mat-form-field>
          </div>

          <div class="col-lg-6 col-md-6">
            <mat-form-field appearance="outline" class="w-100">
              <input matInput placeholder="Device Id" [matAutocomplete]="device" (keyup)="deviceSer($event)" formControlName="deviceId" [(ngModel)]="assetData.asset.deviceId" required>
              <mat-autocomplete #device="matAutocomplete">
                <mat-option *ngFor="let item of deviceIdList | search: dev" [value]="item.deviceId">
                  {{ item.deviceId }}
                </mat-option>
              </mat-autocomplete>
              <mat-error class="mt-1">Device Id is required</mat-error>
            </mat-form-field>
          </div> -->

          <div class="col-lg-6 col-md-6">
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Enter Asset Name</mat-label>
              <input matInput formControlName="name"  [(ngModel)]="assetData.asset.name">
              <mat-error class="mt-1">Asset Name is required</mat-error>
            </mat-form-field>
          </div>

          <div class="col-lg-6 col-md-6">
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Enter Description</mat-label>
              <input matInput>
            </mat-form-field>
          </div>

          <!-- File Upload -->
          <div class="col-lg-12 col-md-6 mb-2">
            <div [class.valid]="addAssetForm.controls['file'].valid || !submit" [class.invalid]="(addAssetForm.controls['file'].hasError('required')) && submit || (addAssetForm.controls['file'].invalid)">
              <div>Drag and drop or <a (click)="fileInput.click()" class="pointer">Browse</a> your file</div>
            </div>

            <div>
              <input hidden (change)="onFileSelected($event)" #fileInput type="file" formControlName="file"  [(ngModel)]="assetData.file">
              <div class="file-name" *ngFor="let item of selectedFiles">
                <mat-card class="d-flex align-items-center justify-content-between mt-2">
                  <span>
                    <!-- <span *ngIf="selectedFile?.name">{{ asset.adsDeviceId }} {{ currentDate | date:'dd/MM/yyyy HH:mm:ss' }}</span> -->
                    {{ item.name }}
                  </span>
                  <!-- <mat-progress-bar *ngIf="selectedFile" class="w-50" mode="determinate" value="100"></mat-progress-bar> -->
                  <a *ngIf="selectedFile" class="pointer text-end" (click)="deleteFile(item)">
                    <img style="color: #bdb8b8;" src="assets/icons/delete_black.svg" width="18" height="18">
                  </a>
                </mat-card>
              </div>
              <mat-error class="mt-1" *ngIf="selectedFile?.size > 10485760">Please select video less than 10MB</mat-error>
            </div>
          </div>
          <!-- /File Upload -->

          <div class="col-lg-6 col-md-6">
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Device Mode</mat-label>
              <mat-select formControlName="deviceModeId" [(ngModel)]="assetData.asset.deviceModeId">
                <mat-option *ngFor="let item of deviceMode" [value]="item.keyId">{{ item.value }}</mat-option>
              </mat-select>
              <mat-error class="mt-1">Device Mode is required</mat-error>
            </mat-form-field>
          </div>

          <div class="col-lg-6 my-3" style="font-size: 12px;">
            <mat-radio-group name="radioOpt1" class="w-100" formControlName="splRuleId" [(ngModel)]="assetData.asset.splRuleId">
              <mat-label>Special Rule</mat-label>
              <mat-radio-button class="ms-3" name="rule" [value]="1">Yes</mat-radio-button>
              <mat-radio-button class="ms-3" name="rule" [value]="0" checked>No</mat-radio-button>
            </mat-radio-group>
          </div>

          <div class="col-lg-6 col-md-6">
            <mat-form-field appearance="outline" class="w-100">
              <input matInput [matDatepicker]="picker1" placeholder="From Date">
              <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
              <mat-datepicker #picker1></mat-datepicker>
              <mat-error class="mt-1">From Date is required</mat-error>
            </mat-form-field>
          </div>

          <div class="col-lg-6 col-md-6">
            <mat-form-field appearance="outline" class="w-100">
              <input matInput [matDatepicker]="picker2" placeholder="To Date">
              <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
              <mat-datepicker #picker2></mat-datepicker>
              <mat-error class="mt-1">To Date is required</mat-error>
            </mat-form-field>
          </div>

          <div class="col-lg-6" *ngIf="assetData.asset.deviceModeId == 2 || assetData.asset.deviceModeId == 3">
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Select time range</mat-label>
              <mat-select formControlName="timeId" [(ngModel)]="assetData.nameParams.timeId">
                <mat-option *ngFor="let item of adsTime" [value]="item.keyId">{{ item.value }}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>

          <div class="col-lg-6" *ngIf="assetData.asset.deviceModeId == 2 || assetData.asset.deviceModeId == 3">
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Select temp range</mat-label>
              <mat-select formControlName="tempId" [(ngModel)]="assetData.nameParams.tempId">
                <mat-option *ngFor="let item of tempRange" [value]="item.keyId">{{ item.value }}&nbsp;&nbsp;({{item.remarks}})</mat-option>
              </mat-select>
            </mat-form-field>
          </div>

          <span class="row" *ngIf="assetData.asset.deviceModeId == 3">
            <div class="col-lg-12 mb-3 mt-2" style="font-size: 12px;">
              <mat-radio-group name="radioOpt2" class="w-100" formControlName="adFor" [(ngModel)]="adFor">
                <mat-label>Advertisement For</mat-label>
                <mat-radio-button class="ms-3" name="for" [value]="1">Person</mat-radio-button>
                <mat-radio-button class="ms-3" name="for" [value]="2">Vehicle</mat-radio-button>
                <mat-radio-button class="ms-3" name="for" [value]="3">Both</mat-radio-button>
              </mat-radio-group>
            </div>

            <div class="col-lg-12 mb-3" *ngIf="adFor == 1 || adFor == 3">
              <mat-slide-toggle name="enableWifi" formControlName="enableDemo" [(ngModel)]="enableDemo">Enable Demographics</mat-slide-toggle>
            </div>

            <!-- <div class="col-lg-12 mb-3 mt-2" style="font-size: 12px;" *ngIf="adFor == 1 || adFor == 3">
              <mat-radio-group name="radioOpt3" class="w-100" formControlName="genderFor" [(ngModel)]="genderFor">
                <mat-label>Gender</mat-label>
                <mat-radio-button class="ms-3" name="gender" [value]="1">Male</mat-radio-button>
                <mat-radio-button class="ms-3" name="gender" [value]="2">Female</mat-radio-button>
                <mat-radio-button class="ms-3" name="gender" [value]="3">Both</mat-radio-button>
              </mat-radio-group>
            </div> -->

            <div class="col-lg-4 col-md-4" *ngIf="(adFor == 1 || adFor == 3) && !enableDemo">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Person</mat-label>
                <input matInput name="inputValue" type="number" formControlName="persons" [(ngModel)]="assetData.nameParams.persons">
                <mat-error class="mt-1">Count is required</mat-error>
              </mat-form-field>
            </div>

            <div class="col-lg-4 col-md-4" *ngIf="(adFor == 1 || adFor == 3) && enableDemo">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Male Kids</mat-label>
                <input matInput name="inputValue" type="number" formControlName="maleKids" [(ngModel)]="assetData.nameParams.maleKids">
                <mat-error class="mt-1">Count is required</mat-error>
                <!-- <mat-error *ngIf="assetData.nameParams.adsKidsCount == '0'">Count Should not be zero</mat-error> -->
              </mat-form-field>
            </div>

            <div class="col-lg-4 col-md-4" *ngIf="(adFor == 1 || adFor == 3) && enableDemo">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Female Kids</mat-label>
                <input matInput name="inputValue" type="number" formControlName="femaleKids" [(ngModel)]="assetData.nameParams.femaleKids">
                <mat-error class="mt-1">Count is required</mat-error>
                <!-- <mat-error *ngIf="assetData.nameParams.adsKidsCount == '0'">Count Should not be zero</mat-error> -->
              </mat-form-field>
            </div>

            <div class="col-lg-4 col-md-4" *ngIf="(adFor == 1 || adFor == 3) && enableDemo">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Male Youth</mat-label>
                <input matInput type="number" formControlName="maleYouth" [(ngModel)]="assetData.nameParams.maleYouth">
                <mat-error class="mt-1">Count is required</mat-error>
              </mat-form-field>
            </div>

            <div class="col-lg-4 col-md-4" *ngIf="(adFor == 1 || adFor == 3) && enableDemo">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Female Youth</mat-label>
                <input matInput type="number" formControlName="femaleYouth" [(ngModel)]="assetData.nameParams.femaleYouth">
                <mat-error class="mt-1">Count is required</mat-error>
              </mat-form-field>
            </div>

            <div class="col-lg-4 col-md-4" *ngIf="(adFor == 1 || adFor == 3) && enableDemo">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Male Adult</mat-label>
                <input matInput type="number" formControlName="maleAdults" [(ngModel)]="assetData.nameParams.maleAdults">
                <mat-error class="mt-1">Count is required</mat-error>
              </mat-form-field>
            </div>

            <div class="col-lg-4 col-md-4" *ngIf="(adFor == 1 || adFor == 3) && enableDemo">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Female Adult</mat-label>
                <input matInput type="number" formControlName="femaleAdults" [(ngModel)]="assetData.nameParams.femaleAdults">
                <mat-error class="mt-1">Count is required</mat-error>
              </mat-form-field>
            </div>

            <div class="col-lg-6 col-md-6" *ngIf="adFor == 2 || adFor == 3">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Vehicles</mat-label>
                <mat-select formControlName="vehicles" [(ngModel)]="assetData.nameParams.vehicles">
                  <mat-option [value]="1">1</mat-option>
                  <mat-option [value]="2">2</mat-option>
                  <mat-option [value]="3">3</mat-option>
                  <mat-option [value]="4">4</mat-option>
                  <mat-option [value]="5">5</mat-option>
                </mat-select>
                <mat-error class="mt-1">Count is required</mat-error>
              </mat-form-field>
            </div>
          </span>

          <div class="text-center my-5">
            <button class="btn add-btn">ADD</button>
          </div>
        </div>
      </form>

    </div>
    <!-- /Form -->
  </div>
</div>

