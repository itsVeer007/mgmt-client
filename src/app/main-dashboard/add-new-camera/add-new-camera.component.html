<div class="row formModal">
  <div class="col-lg-4 col-4"></div>

  <div class="col-lg-8 col-8 add-form" id="sites" @inOutPaneAnimation>

    <div>
      <a class="close-main pointer" (click)="closeCamera()"><img src="assets/icons/close_form.svg" /></a>
      <span class="form-heading">Add Camers</span>
    </div>

    <div>
      <form [formGroup]="createCamera">

        <div class="row">
          <div class="col-lg-12">
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Unit Id</mat-label>
              <input matInput formControlName="unitId">
            </mat-form-field>
          </div>  
          <div class="col-lg-6">
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Username</mat-label>
              <input matInput formControlName="userName">
            </mat-form-field>
          </div>
          
          <div class="col-lg-6">
            <mat-form-field appearance="outline" class="w-100">
                <mat-label>Password</mat-label>
                <input matInput formControlName="password">
              </mat-form-field>
            </div>

            <!-- <div class="col-lg-6">
              <mat-form-field appearance="outline" class="w-100">
                  <mat-label>Display Name</mat-label>
                  <input matInput formControlName="displayName">
                </mat-form-field>
              </div> -->
  
            <div class="col-lg-12">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>RTSP URL</mat-label>
                <input matInput formControlName="rtspUrl">
              </mat-form-field>
            </div>
            
            <div class="col-lg-12">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>WebRTC URL</mat-label>
                <input matInput formControlName="videoServerName">
              </mat-form-field>
            </div>
            
            <div class="col-lg-12">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>HLS URL</mat-label>
                <input matInput formControlName="HLSUrl">
              </mat-form-field>
            </div>
            
            <div class="col-lg-12">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Audio URL</mat-label>
                <input matInput formControlName="audioUrl">
              </mat-form-field>
            </div>
  

        </div>
        
        
          <div class="row">
            <div class="col-lg-6">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>No of Cameras</mat-label>
                <input matInput type="number" formControlName="noOfCameras" #noOfCams>
              </mat-form-field>
            </div>
            <div class="col-lg-6 ">
              <button class="btn btn-primary"   (click)="addCamera(createCamera.value)">ADD</button>
            </div>
        </div >
      </form>
      
      
      <div class="table-resp">
        <table class="table table-hover">
          <thead>
            <tr class="form1">
              <th>Camera Id</th>
              <th>User Name</th>
              <th>Password</th>
              <th>Display Name</th>
              <th>RTSP</th>
              <th>WebRTC URL</th>
              <th>HLS URL</th>
              <th>Audio URL</th>
              <th></th>


            </tr>
          </thead>
          
          <tbody>
            <tr *ngFor="let cam of camList; let i=index">
                <td>{{cam.cameraId}}</td>
                <td>{{cam.userName}}</td>
                <td>{{cam.password}}</td>
                <td>{{cam.displayName}}</td>
                <td>{{cam.rtspUrl}}</td>
                <td>{{cam.videoServerName}}</td>
                <td>{{cam.HLSUrl}}</td>
                <td>{{cam.audioUrl}}</td>
                <td>
                  <button class="btn btn-success p-1" style="font-size: 10px;" (click)="submit(cam)">
                    Save
                  </button>
                  <a class="mx-1 pointer"  matTooltip="Edit">
                    <img src="assets/icons/edit.svg" (click)="openEditPopup(cam)">
                  </a>
                </td>
              </tr>
          </tbody>
        </table>
      </div>
    </div>

  
</div>


<ng-template #editSiteDialog>
  <div style="background-color: #084982;">
    <p class="dialog-title">MODIFY SITE</p>
  </div>

  

  <div class="row m-0 dialog-content">


    <div class="col-lg-6">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Unit Id</mat-label>
        <input matInput [(ngModel)]="currentItem.unitId">
      </mat-form-field>
    </div>

    <div class="col-lg-6">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Username</mat-label>
        <input matInput [(ngModel)]="currentItem.userName">
      </mat-form-field>
    </div>

    <div class="col-lg-6">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Password</mat-label>
        <input matInput [(ngModel)]="currentItem.password">
      </mat-form-field>
    </div>

    <div class="col-lg-6">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>RTSP URL</mat-label>
        <input matInput [(ngModel)]="currentItem.rtspUrl">
      </mat-form-field>
    </div>

    <div class="col-lg-6">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>WebRTC URL</mat-label>
        <input matInput [(ngModel)]="currentItem.videoServerName">
      </mat-form-field>
    </div>

    <div class="col-lg-6">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>HLS URL</mat-label>
        <input matInput [(ngModel)]="currentItem.HLSUrl">
      </mat-form-field>
    </div>

    <div class="col-lg-6">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Audio URL</mat-label>
        <input matInput [(ngModel)]="currentItem.audioUrl">
      </mat-form-field>
    </div>

     
  </div>

  <div class="d-flex align-items-center justify-content-end">
    <div>
      <button class="dialog-close-btn" mat-dialog-close>Close</button>
    </div>
    <div  >
      <button class="dialog-update-btn" mat-dialog-close (click)="update()">Update</button>
    </div>
  </div>
</ng-template>
